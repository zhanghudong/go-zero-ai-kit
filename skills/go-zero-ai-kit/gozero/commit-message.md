# Commit Message 规范（中文）

采用 Conventional Commits 标准，提交信息使用中文描述。

## 语义约束（必须遵守）
- 提交信息必须基于当前代码差异（`git diff`）描述“改了什么”，不是描述 review 过程。
- 优先描述可见改动：新增能力、行为变化、修复点、重构范围。

## 格式
```
<type>(<scope>): <subject>
```

## 常用 type
- feat：新增功能
- fix：修复问题
- docs：文档变更
- style：格式调整（不影响逻辑）
- refactor：重构
- perf：性能优化
- test：测试
- chore：构建/脚手架/依赖

## 生成步骤（推荐）
1. 读取 `git status` 与 `git diff --name-only`，确认本次变更范围。
2. 按文件改动归纳 1 个主语义（必要时补充次语义）。
3. 根据改动性质选择 `type`，再写 `<scope>` 和 `<subject>`。
4. 输出应让未参与 review 的人也能直接理解“本次提交改了什么”。

## 错误处理（必须执行）
1. 生成后做一次语义校验：主语必须是“代码改动”，不能是“审查行为”。
2. 校验失败时仅重写一次，重写输入只保留 `git diff` 文件与改动事实。
3. 若仍不确定语义，使用保底模板：`chore(代码): 同步当前代码改动`。

## 示例
- feat(技能): 新增列表映射规范
- fix(规则): 修正分页默认值说明
- docs(技能): 更新错误码规范
